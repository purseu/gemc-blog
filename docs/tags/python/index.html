<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Python | 不见长安</title>
<meta name=keywords content>
<meta name=description content="这里只是记录一下生活随笔和简陋的笔记。">
<meta name=author content="Gemc">
<link rel=canonical href=https://www.gemc.club/tags/python/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.5e2b4101351c21e906f398ae96901791830f58d430f96f2659dab7eaef7b3cb7.css integrity="sha256-XitBATUcIekG85iulpAXkYMPWNQw+W8mWdq36u97PLc=" rel="preload stylesheet" as=style>
<link rel=icon href=https://www.gemc.club/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://www.gemc.club/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://gemc-blog-1300411896.cos.ap-shanghai.myqcloud.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://www.gemc.club/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://www.gemc.club/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.88.1">
<link rel=alternate type=application/rss+xml href=https://www.gemc.club/tags/python/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-209321245-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-209321245-1')</script>
<meta property="og:title" content="Python">
<meta property="og:description" content="这里只是记录一下生活随笔和简陋的笔记。">
<meta property="og:type" content="website">
<meta property="og:url" content="https://www.gemc.club/tags/python/"><meta property="og:image" content="https://www.gemc.club/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="不见长安">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://www.gemc.club/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E">
<meta name=twitter:title content="Python">
<meta name=twitter:description content="这里只是记录一下生活随笔和简陋的笔记。">
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://www.gemc.club/ accesskey=h title="不见长安 (Alt + H)">不见长安</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://www.gemc.club/ title=Home>
<span>Home</span>
</a>
</li>
<li>
<a href=https://www.gemc.club/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
<li>
<a href=https://www.gemc.club/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://www.gemc.club/archives/ title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://www.gemc.club/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://www.gemc.club/>Home</a>&nbsp;»&nbsp;<a href=https://www.gemc.club/tags/>Tags</a></div>
<h1>Python</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Pytest_命令详解
</h2>
</header>
<section class=entry-content>
<p>有些事情，如果不在该完成的阶段把它完成，那它以后一定会不断跳出来烦你，并且越往后成本越高。 调整自己的心态，生活失意时，静品命运苦乐韵味；人生腾达时，静听生命辉煌乐章；许多人的失败和痛苦，不是出不去，而是回不来。
命令行详解 1. -m 标记表达式 2. -q 简单打印，只打印测试用例的执行结果 3. -s 详细打印 4. -x 遇到错误时停止测试 5. --maxfail=num 当用例错误个数达到指定数量时，停止测试 6. -k 匹配用例名称 异常断言 pytest.raises()当做上下文管理器，抛出异常时获取相应的异常
def test_zero(): with pytest.raise(ZeroDivisionError) as errinfo: 1 / 0 主要属性 .value 值 .type 类型 .traceback 错误栈 检查断言装饰器 @pytest.mark.xfail() setUp和tearDown unittest单元测试框架中提供了4种前后置方法：
setup() setupClass() teardown() teardownClass() pytest同样提供超过4种的前后置方法:
模块级别
整个.py模块只执行一次 setup_module teardown_module 函数级别 – 不在类中的方法
每个函数级别用例都执行 setup_function teardown_function 类级别...</p>
</section>
<footer class=entry-footer>
<span>Create:&nbsp;&nbsp;</span>2021-10-15 20:59:14 Fri&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gemc&nbsp;&nbsp;|&nbsp;&nbsp;<span>Update:&nbsp;&nbsp;2021-10-16 18:51:04 Sat</span></footer>
<a class=entry-link aria-label="post link to Pytest_命令详解" href=https://www.gemc.club/posts/testing/pytest_20211015/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>Pytest 入门
</h2>
</header>
<section class=entry-content>
<p>有些事，现在看来不过如此，但在当时，真的就是一个人一秒一秒熬过来的；人生是一场永不落幕的演出，我们每一个人都是演员，只不过，有的人顺从自己，有的人取悦观众。 --------------------------- 每日一句
pytest单元测试框架 什么是单元测试框架 单元测试是指软件开发中，最小单位的测试。(函数、方法)
单元测试框架 # java 1. junit 2. testng # python 1. unittest 2. pytest 单元测试框架的作用 测试发现 从多个文件里寻找测试用例 测试执行 按照一定的业务规则和顺序执行生成测试结果 测试判断 通过断言判断预期结果和实际结果 测试报告 统计测试进度，生成测试报告 单元测试框架和自动化测试框架的关系 作用 提高测试效率 减少人工干预，提高测试的准确性，增加代码的复用性 核心思想是让不懂代码的人也能够通过框架进行自动化测试 pytest与自动化测试框架的关系 单元测试框架： 其只是自动化框架的组成之一 pom设计模式： 其只是自动化框架的组成之一 框架包含更多的东西，包括不限于以下：
数据驱动 关键字驱动 全局配置文件的封装 日志监控 selenium、requests二次封装 断言 发送邮件 … end</p>
</section>
<footer class=entry-footer>
<span>Create:&nbsp;&nbsp;</span>2021-10-14 22:18:02 Thu&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gemc&nbsp;&nbsp;|&nbsp;&nbsp;<span>Update:&nbsp;&nbsp;2021-10-14 22:41:37 Thu</span></footer>
<a class=entry-link aria-label="post link to Pytest 入门" href=https://www.gemc.club/posts/testing/pytest_201014/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>pytest介绍
</h2>
</header>
<section class=entry-content>
<p>pytest是一款非常灵活且成熟的Python测试框架。pytest 是一个使得构建简单和可伸缩的测试很容易的框架。测试不需要样板代码。几分钟就可以开始对应用程序或库进行小的单元测试或复杂的功能测试。这里将记录pytest的一些简单使用。
Python内建的unittest也是一个好用的单元测试框架。
pytest简介 特点 pytest是一个非常成熟的python单元测试框架，比unittest更灵活，更容易上手 pytest可以和selenium，requests、appium结合实现web自动化、接口自动化、app自动化 pytest可以实现测试用例的跳过以及重跑失败用例 pytest配合allure生成美观的测试报告 pytest集合jenkins实现集成测试 pytest拥有丰富的插件 pytest pytest-html 生成html格式的自动化测试报告 pytest-xdist 测试用例分布式执行，多CPU分发 pytest-ordering 用来改变测试用例的执行顺序 pytest-rerunfailures 用例失败后重跑 allure-pytest 生成美观的测试报告 安装pytest # 安装最新版pytest pip install -U pytest # 查看安装版本 pytest --version 创建第一个测试 def func(arg): return arg + 1 def test_answer(): assert func(4) == 6 文件所在目录命令行中执行pytest。从代码中便可以看出这是不相等的。执行pytest后，将会给出详细的错误信息，请看：
pytest测试用例的默认规则 模块名必须以test_开头或者_test结尾 测试类必须以Test开头，且不能含有__init__方法 测试方法必须以test开头 pytest测试用例的运行方式 主函数模式 命令行模式 通过pytest.ini配置文件运行 主函数模式 Code:
#!/usr/bin/env python # ----------------------------------- # -*- coding: utf-8 -*- # @Time : 2021/10/14 22:55 # @Author : Gemc # @Email : ge942812@gmail....</p>
</section>
<footer class=entry-footer>
<span>Create:&nbsp;&nbsp;</span>2021-10-11 21:37:13 Mon&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gemc&nbsp;&nbsp;|&nbsp;&nbsp;<span>Update:&nbsp;&nbsp;2021-10-14 23:14:55 Thu</span></footer>
<a class=entry-link aria-label="post link to pytest介绍" href=https://www.gemc.club/posts/testing/pytest_20211011/></a>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://www.gemc.club/>不见长安</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>