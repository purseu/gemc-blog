{{- $pageurl := .Permalink }}
{{- $title := .Title }}

{{- $.Scratch.Set "tags" ""}}

{{- with .Params.Tags }}
{{- $hashtags := newScratch}}
{{- range . }}{{ $hashtags.Add "tags" (slice (replaceRE "(\\s)" "" . ))}}{{end}}
{{- $.Scratch.Set "tags" (delimit ($hashtags.Get "tags") ",") }}
{{- end -}}

{{- $custom := false }}
{{- $ShareButtons := (.Param "ShareButtons")}}
{{- with $ShareButtons }}{{ $custom = true }}{{ end }}

<div class="share-buttons">
    {{- if (cond ($custom) (in $ShareButtons "twitter") (true)) }}
    <a target="_blank" rel="noopener noreferrer" aria-label="share {{ $title | plainify }} on twitter"
        href="https://twitter.com/intent/tweet/?text={{ $title }}&amp;url={{ $pageurl }}&amp;hashtags={{- $.Scratch.Get "tags" -}}">
        <svg version="1.1" viewBox="0 0 24 24" xml:space="preserve">
            <path
                d="M17,3H7C4.791,3,3,4.791,3,7v10c0,2.209,1.791,4,4,4h10c2.209,0,4-1.791,4-4V7C21,4.791,19.209,3,17,3z M17.05,9.514 c0,0.086,0,0.171,0,0.343c0,3.257-2.486,7.029-7.029,7.029c-1.371,0-2.657-0.429-3.771-1.114c0.171,0,0.429,0,0.6,0 c1.114,0,2.229-0.429,3.086-1.029c-1.114,0-1.971-0.771-2.314-1.714c0.171,0,0.343,0.086,0.429,0.086c0.257,0,0.429,0,0.686-0.086 c-1.114-0.257-1.971-1.2-1.971-2.4c0.343,0.171,0.686,0.257,1.114,0.343c-0.686-0.6-1.114-1.286-1.114-2.143 c0-0.429,0.086-0.857,0.343-1.2c1.2,1.457,3,2.486,5.057,2.571c0-0.171-0.086-0.343-0.086-0.6c0-1.371,1.114-2.486,2.486-2.486 c0.686,0,1.371,0.257,1.8,0.771c0.6-0.086,1.114-0.343,1.543-0.6c-0.171,0.6-0.6,1.029-1.114,1.371 c0.514-0.086,0.943-0.171,1.457-0.429C17.907,8.743,17.479,9.171,17.05,9.514z" />
        </svg>
    </a>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "linkedin") (true)) }}
    <a target="_blank" rel="noopener noreferrer" title="领英" aria-label="share {{ $title | plainify }} on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url={{ $pageurl }}&amp;title={{ $title }}&amp;summary={{ $title }}&amp;source={{ $pageurl }}">
        <svg version="1.1" viewBox="0 0 50 50" xml:space="preserve">
            <path
                d="M41,4H9C6.24,4,4,6.24,4,9v32c0,2.76,2.24,5,5,5h32c2.76,0,5-2.24,5-5V9C46,6.24,43.76,4,41,4z M17,20v19h-6V20H17z M11,14.47c0-1.4,1.2-2.47,3-2.47s2.93,1.07,3,2.47c0,1.4-1.12,2.53-3,2.53C12.2,17,11,15.87,11,14.47z M39,39h-6c0,0,0-9.26,0-10 c0-2-1-4-3.5-4.04h-0.08C27,24.96,26,27.02,26,29c0,0.91,0,10,0,10h-6V20h6v2.56c0,0,1.93-2.56,5.81-2.56 c3.97,0,7.19,2.73,7.19,8.26V39z" />
        </svg>
    </a>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "zhihu") (true)) }}
    <a target="_blank" rel="noopener noreferrer" title="知乎" aria-label="share {{ $title | plainify }} on 知乎"
        href="https://www.zhihu.com/people/guoket.com">
        <svg version="1.1" viewBox="0 0 24 24" xml:space="preserve">
            <path
                d="M 5.0507812 2.6835938 L 3.0507812 8.6835938 L 4.9492188 9.3164062 L 5.7207031 7 L 7 7 L 7 10.222656 C 7 10.868331 6.9219874 11.418087 6.8710938 12 L 4 12 L 4 14 L 6.5429688 14 C 5.983285 16.269768 4.8214393 18.029123 2.5039062 19.353516 L 3.4960938 21.089844 C 6.4085349 19.425482 7.9221912 16.957288 8.5761719 14 L 11 14 L 11 12 L 8.8476562 12 C 8.900895 11.408696 9 10.844144 9 10.222656 L 9 7 L 11 7 L 11 5 L 6.3886719 5 L 6.9492188 3.3164062 L 5.0507812 2.6835938 z M 13 5 L 13 18 L 15 18 L 15 20.869141 L 19.302734 18 L 22 18 L 22 17 L 22 5 L 13 5 z M 15 7 L 20 7 L 20 16 L 18.697266 16 L 17 17.130859 L 17 16 L 15 16 L 15 7 z M 9.1777344 15.806641 L 7.5625 16.986328 L 10.191406 20.589844 L 11.808594 19.410156 L 9.1777344 15.806641 z" />
        </svg>
    </a>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "facebook") (true)) }}
    <a target="_blank" rel="noopener noreferrer" title="facebook" aria-label="share {{ $title | plainify }} on facebook"
        href="https://facebook.com/sharer/sharer.php?u={{ $pageurl }}">
        <svg version="1.1" viewBox="0 0 30 30" xml:space="preserve">

            <path
                d="M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z" />
        </svg>
    </a>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "github") (true)) }}
    <a target="_blank" rel="noopener noreferrer" title="github" aria-label="share {{ $title | plainify }} on github"
        href="https://api.whatsapp.com/send?text={{ $title }}%20-%20{{ $pageurl }}">
        <svg version="1.1" viewBox="0 0 30 30" xml:space="preserve">
            <path
                d="M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z" />
        </svg>
    </a>
    {{- end }}
    {{- if (cond ($custom) (in $ShareButtons "qq") (true)) }}
    <a target="_blank" rel="noopener noreferrer" title="qq" aria-label="share {{ $title | plainify }} on QQ"
        href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey">
        <svg version="1.1" xml:space="preserve" viewBox="0 0 30 30">
            <path
                d="M 15 3 C 10.74 3 7.1992187 6.2397656 7.1992188 10.259766 L 7.1992188 12.359375 C 7.3092187 12.390375 7.4275469 12.443062 7.5605469 12.539062 C 7.5605469 12.539062 11.100547 14.400391 15.060547 14.400391 C 19.020547 14.400391 22.560547 12.539062 22.560547 12.539062 C 22.645547 12.470062 22.723828 12.418859 22.798828 12.380859 C 22.796828 11.558859 22.740234 10.849766 22.740234 10.259766 C 22.740234 6.2397656 19.26 3 15 3 z M 12.900391 6 C 13.740391 6 14.400391 6.9596094 14.400391 8.0996094 C 14.400391 9.2396094 13.740391 10.199219 12.900391 10.199219 C 12.060391 10.199219 11.400391 9.2396094 11.400391 8.0996094 C 11.400391 6.9596094 12.060391 6 12.900391 6 z M 17.099609 6 C 17.939609 6 18.599609 6.9596094 18.599609 8.0996094 C 18.599609 9.2396094 17.939609 10.199219 17.099609 10.199219 C 16.259609 10.199219 15.599609 9.2396094 15.599609 8.0996094 C 15.599609 6.9596094 16.259609 6 17.099609 6 z M 13.199219 7.1992188 C 12.839219 7.1992187 12.599609 7.6196094 12.599609 8.0996094 C 12.599609 8.5796094 12.839219 9 13.199219 9 C 13.559219 9 13.800781 8.5796094 13.800781 8.0996094 C 13.800781 7.6196094 13.559219 7.1992188 13.199219 7.1992188 z M 16.800781 7.1992188 C 16.440781 7.1992188 16.199219 7.6196094 16.199219 8.0996094 C 16.199219 8.5796094 16.440781 7.8007812 16.800781 7.8007812 C 17.160781 7.8007812 17.400391 8.5796094 17.400391 8.0996094 C 17.400391 7.6196094 17.160781 7.1992187 16.800781 7.1992188 z M 15 11 C 17.2 11 19 11.35 19 11.75 C 19 12.15 17.2 13 15 13 C 12.8 13 11 12.15 11 11.75 C 11 11.35 12.8 11 15 11 z M 6.4667969 14.837891 C 5.5647969 16.247891 4.8007812 17.792531 4.8007812 19.019531 C 4.8007812 21.899531 5.640625 21.599609 5.640625 21.599609 C 6.000625 21.599609 6.600625 20.999844 7.140625 20.339844 C 7.5247566 21.41907 8.0844931 22.387256 8.7597656 23.234375 C 7.8165589 23.621355 7.1992188 24.226571 7.1992188 24.900391 C 7.1992187 26.040391 8.9396094 27 11.099609 27 C 12.229241 27 13.236188 26.733874 13.947266 26.320312 C 14.292013 26.368603 14.642286 26.400391 15 26.400391 C 15.357714 26.400391 15.707987 26.368603 16.052734 26.320312 C 16.763812 26.733874 17.770759 27 18.900391 27 C 21.060391 27 22.800781 26.040391 22.800781 24.900391 C 22.800781 24.226571 22.183441 23.621355 21.240234 23.234375 C 21.915507 22.387256 22.475243 21.41907 22.859375 20.339844 C 23.399375 20.999844 23.999375 21.599609 24.359375 21.599609 C 24.359375 21.599609 25.199219 21.899531 25.199219 19.019531 C 25.199219 17.820531 24.46875 16.278156 23.59375 14.910156 C 23.54975 14.939156 23.512937 14.969 23.460938 15 C 23.340937 15.06 19.499141 17.400391 15.119141 17.400391 C 14.039141 17.400391 13.079141 17.219062 12.119141 17.039062 C 11.939141 18.299063 11.939453 19.499063 11.939453 20.039062 C 11.939453 20.999063 11.159219 20.94 10.199219 21 C 9.2392188 21 8.5209375 21.120703 8.4609375 20.220703 C 8.4609375 20.100703 8.3997656 18.119531 8.7597656 16.019531 C 7.5597656 15.479531 6.7807031 15.06 6.7207031 15 C 6.6217031 14.944 6.5387969 14.890891 6.4667969 14.837891 z" />
        </svg>
    </a>
    {{- end }}
</div>
